2025-12-21 00:07:21.644 -05:00 [Warning] Overriding address(es) '"http://0.0.0.0:8080"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-12-21 00:07:21.741 -05:00 [Information] â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
2025-12-21 00:07:21.742 -05:00 [Information] ğŸš€ KeiroGenesis API Started Successfully
2025-12-21 00:07:21.742 -05:00 [Information] ğŸ“– Swagger: http://localhost:8080
2025-12-21 00:07:21.742 -05:00 [Information] â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
2025-12-21 00:07:45.179 -05:00 [Error] âŒ SendGrid error Unauthorized: "{\"errors\":[{\"message\":\"The provided authorization grant is invalid, expired, or revoked\",\"field\":null,\"help\":null}]}"
2025-12-21 00:07:45.180 -05:00 [Warning] Startup email notification failed to send
2025-12-21 05:48:03.604 -05:00 [Warning] Overriding address(es) '"http://0.0.0.0:8080"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-12-21 05:48:03.828 -05:00 [Information] â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
2025-12-21 05:48:03.829 -05:00 [Information] ğŸš€ KeiroGenesis API Started Successfully
2025-12-21 05:48:03.830 -05:00 [Information] ğŸ“– Swagger: http://localhost:8080
2025-12-21 05:48:03.830 -05:00 [Information] â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
2025-12-21 05:48:07.011 -05:00 [Error] âŒ SendGrid error Unauthorized: "{\"errors\":[{\"message\":\"The provided authorization grant is invalid, expired, or revoked\",\"field\":null,\"help\":null}]}"
2025-12-21 05:48:07.013 -05:00 [Warning] Startup email notification failed to send
2025-12-21 16:17:17.055 -05:00 [Warning] Overriding address(es) '"http://0.0.0.0:8080"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-12-21 16:17:17.229 -05:00 [Information] â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
2025-12-21 16:17:17.244 -05:00 [Information] ğŸš€ KeiroGenesis API Started Successfully
2025-12-21 16:17:17.253 -05:00 [Information] ğŸ“– Swagger: http://localhost:8080
2025-12-21 16:17:17.257 -05:00 [Information] â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
2025-12-21 16:17:20.517 -05:00 [Error] âŒ SendGrid error Unauthorized: "{\"errors\":[{\"message\":\"The provided authorization grant is invalid, expired, or revoked\",\"field\":null,\"help\":null}]}"
2025-12-21 16:17:20.519 -05:00 [Warning] Startup email notification failed to send
2025-12-21 16:17:25.174 -05:00 [Information] Using connection string from ConnectionStrings:PostgreSQL
2025-12-21 16:17:25.490 -05:00 [Information] PostgreSQL connection test succeeded
2025-12-21 16:17:26.083 -05:00 [Error] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'Database connection string not found')
   at KeiroGenesis.Identity.IdentityRatingRepository..ctor(IConfiguration configuration) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\ContentRatings.cs:line 38
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithOneArg(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at lambda_method58(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Program.<>c__DisplayClass0_0.<<<Main>$>b__9>d.MoveNext() in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Program.cs:line 281
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-12-21 16:35:04.596 -05:00 [Warning] Overriding address(es) '"http://0.0.0.0:8080"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-12-21 16:35:04.784 -05:00 [Information] â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
2025-12-21 16:35:04.787 -05:00 [Information] ğŸš€ KeiroGenesis API Started Successfully
2025-12-21 16:35:04.787 -05:00 [Information] ğŸ“– Swagger: http://localhost:8080
2025-12-21 16:35:04.788 -05:00 [Information] â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
2025-12-21 16:35:08.115 -05:00 [Error] âŒ SendGrid error Unauthorized: "{\"errors\":[{\"message\":\"The provided authorization grant is invalid, expired, or revoked\",\"field\":null,\"help\":null}]}"
2025-12-21 16:35:08.117 -05:00 [Warning] Startup email notification failed to send
2025-12-21 16:35:55.389 -05:00 [Information] Using connection string from ConnectionStrings:PostgreSQL
2025-12-21 16:35:55.771 -05:00 [Information] PostgreSQL connection test succeeded
2025-12-21 16:35:56.234 -05:00 [Error] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'Database connection string not found')
   at KeiroGenesis.API.Ratings.ContentRatingsRepository..ctor(IConfiguration configuration) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\ContentRatings.cs:line 39
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithOneArg(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at lambda_method58(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Program.<>c__DisplayClass0_0.<<<Main>$>b__9>d.MoveNext() in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Program.cs:line 282
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-12-21 16:41:50.238 -05:00 [Warning] Overriding address(es) '"http://0.0.0.0:8080"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-12-21 16:41:50.448 -05:00 [Information] â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
2025-12-21 16:41:50.451 -05:00 [Information] ğŸš€ KeiroGenesis API Started Successfully
2025-12-21 16:41:50.452 -05:00 [Information] ğŸ“– Swagger: http://localhost:8080
2025-12-21 16:41:50.452 -05:00 [Information] â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
2025-12-21 16:41:53.626 -05:00 [Error] âŒ SendGrid error Unauthorized: "{\"errors\":[{\"message\":\"The provided authorization grant is invalid, expired, or revoked\",\"field\":null,\"help\":null}]}"
2025-12-21 16:41:53.630 -05:00 [Warning] Startup email notification failed to send
2025-12-21 16:41:55.266 -05:00 [Information] Using connection string from ConnectionStrings:PostgreSQL
2025-12-21 16:41:55.609 -05:00 [Information] PostgreSQL connection test succeeded
2025-12-21 16:41:57.010 -05:00 [Error] Error during registration
Npgsql.PostgresException (0x80004005): 42703: column ip.identity_profile_id does not exist
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.<ReadMessage>g__ReadMessageSequential|49_0(NpgsqlConnector connector, Boolean async)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KeiroGenesis.API.Repositories.IdentitySignalsRepository.GetIdentitySnapshotAsync(Guid tenantId, Guid userId) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\IdentityVerification.cs:line 514
   at KeiroGenesis.API.Services.IdentitySignalsService.GetStatusAsync(Guid tenantId, Guid userId) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\IdentityVerification.cs:line 661
   at KeiroGenesis.API.Services.AuthService.GenerateAccessTokenAsync(Guid userId, Guid tenantId, String email, String username, String[] roles) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\AuthController.cs:line 436
   at KeiroGenesis.API.Services.AuthService.RegisterAsync(RegisterRequest request) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\AuthController.cs:line 592
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column ip.identity_profile_id does not exist
    InternalPosition: 17
    InternalQuery: SELECT 
        ip.identity_profile_id,
        ip.tenant_id,
        ip.user_id,
        ip.verification_level,
        ip.age_verified,
        ip.age_category,
        ip.verified_at,
        ip.expires_at,
        ip.requires_reverification,
        ip.reverification_reason,
        ip.created_at,
        ip.updated_at
    FROM auth.identity_profiles ip
    WHERE ip.tenant_id = p_tenant_id
      AND ip.user_id = p_user_id
      AND ip.is_deleted = FALSE
    Where: PL/pgSQL function auth.fn_get_identity_profile_by_user(uuid,uuid) line 3 at RETURN QUERY
    File: parse_relation.c
    Line: 3716
    Routine: errorMissingColumn
2025-12-21 17:50:56.168 -05:00 [Warning] Overriding address(es) '"http://0.0.0.0:8080"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-12-21 17:50:56.408 -05:00 [Information] â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
2025-12-21 17:50:56.411 -05:00 [Information] ğŸš€ KeiroGenesis API Started Successfully
2025-12-21 17:50:56.411 -05:00 [Information] ğŸ“– Swagger: http://localhost:8080
2025-12-21 17:50:56.411 -05:00 [Information] â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
2025-12-21 17:50:59.522 -05:00 [Error] âŒ SendGrid error Unauthorized: "{\"errors\":[{\"message\":\"The provided authorization grant is invalid, expired, or revoked\",\"field\":null,\"help\":null}]}"
2025-12-21 17:50:59.525 -05:00 [Warning] Startup email notification failed to send
2025-12-21 17:51:02.438 -05:00 [Information] Using connection string from ConnectionStrings:PostgreSQL
2025-12-21 17:51:02.712 -05:00 [Information] PostgreSQL connection test succeeded
2025-12-21 17:51:04.071 -05:00 [Error] Error during registration
Npgsql.PostgresException (0x80004005): 42703: column ip.identity_profile_id does not exist
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.<ReadMessage>g__ReadMessageSequential|49_0(NpgsqlConnector connector, Boolean async)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KeiroGenesis.API.Repositories.IdentitySignalsRepository.GetIdentitySnapshotAsync(Guid tenantId, Guid userId) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\IdentityVerification.cs:line 514
   at KeiroGenesis.API.Services.IdentitySignalsService.GetStatusAsync(Guid tenantId, Guid userId) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\IdentityVerification.cs:line 661
   at KeiroGenesis.API.Services.AuthService.GenerateAccessTokenAsync(Guid userId, Guid tenantId, String email, String username, String[] roles) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\AuthController.cs:line 436
   at KeiroGenesis.API.Services.AuthService.RegisterAsync(RegisterRequest request) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\AuthController.cs:line 592
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column ip.identity_profile_id does not exist
    InternalPosition: 17
    InternalQuery: SELECT 
        ip.identity_profile_id,
        ip.tenant_id,
        ip.user_id,
        ip.verification_level,
        ip.age_verified,
        ip.age_category,
        ip.verified_at,
        ip.expires_at,
        ip.requires_reverification,
        ip.reverification_reason,
        ip.created_at,
        ip.updated_at
    FROM auth.identity_profiles ip
    WHERE ip.tenant_id = p_tenant_id
      AND ip.user_id = p_user_id
      AND ip.is_deleted = FALSE
    Where: PL/pgSQL function auth.fn_get_identity_profile_by_user(uuid,uuid) line 3 at RETURN QUERY
    File: parse_relation.c
    Line: 3716
    Routine: errorMissingColumn
2025-12-21 19:17:08.312 -05:00 [Error] Error during registration
Npgsql.PostgresException (0x80004005): 42703: column ip.identity_profile_id does not exist
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.<ReadMessage>g__ReadMessageSequential|49_0(NpgsqlConnector connector, Boolean async)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KeiroGenesis.API.Repositories.IdentitySignalsRepository.GetIdentitySnapshotAsync(Guid tenantId, Guid userId) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\IdentityVerification.cs:line 514
   at KeiroGenesis.API.Services.IdentitySignalsService.GetStatusAsync(Guid tenantId, Guid userId) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\IdentityVerification.cs:line 661
   at KeiroGenesis.API.Services.AuthService.GenerateAccessTokenAsync(Guid userId, Guid tenantId, String email, String username, String[] roles) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\AuthController.cs:line 436
   at KeiroGenesis.API.Services.AuthService.RegisterAsync(RegisterRequest request) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\AuthController.cs:line 592
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column ip.identity_profile_id does not exist
    Hint: Perhaps you meant to reference the column "ip. identity_profile_id".
    InternalPosition: 17
    InternalQuery: SELECT 
        ip.identity_profile_id,
        ip.tenant_id,
        ip.user_id,
        ip.verification_level,
        ip.age_verified,
        ip.age_category,
        ip.verified_at,
        ip.expires_at,
        ip.requires_reverification,
        ip.reverification_reason,
        ip.created_at,
        ip.updated_at
    FROM auth.identity_profiles ip
    WHERE ip.tenant_id = p_tenant_id
      AND ip.user_id = p_user_id
      AND ip.is_deleted = FALSE
    Where: PL/pgSQL function auth.fn_get_identity_profile_by_user(uuid,uuid) line 3 at RETURN QUERY
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-12-21 19:18:48.174 -05:00 [Error] Error during registration
Npgsql.PostgresException (0x80004005): 42883: procedure auth.create_user_rating_profile(p_tenant_id => uuid, p_user_id => uuid) does not exist

POSITION: 6
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KeiroGenesis.API.Ratings.ContentRatingsRepository.InitializeRatingProfileAsync(Guid tenantId, Guid userId) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\ContentRatings.cs:line 53
   at KeiroGenesis.API.Ratings.ContentRatingsService.GetRatingStatusAsync(Guid tenantId, Guid userId) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\ContentRatings.cs:line 125
   at KeiroGenesis.API.Services.AuthService.GenerateAccessTokenAsync(Guid userId, Guid tenantId, String email, String username, String[] roles) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\AuthController.cs:line 439
   at KeiroGenesis.API.Services.AuthService.RegisterAsync(RegisterRequest request) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\AuthController.cs:line 592
  Exception data:
    Severity: ERROR
    SqlState: 42883
    MessageText: procedure auth.create_user_rating_profile(p_tenant_id => uuid, p_user_id => uuid) does not exist
    Hint: No procedure matches the given name and argument types. You might need to add explicit type casts.
    Position: 6
    File: parse_func.c
    Line: 620
    Routine: ParseFuncOrColumn
2025-12-21 20:10:35.158 -05:00 [Warning] Overriding address(es) '"http://0.0.0.0:8080"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-12-21 20:10:35.349 -05:00 [Information] â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
2025-12-21 20:10:35.350 -05:00 [Information] ğŸš€ KeiroGenesis API Started Successfully
2025-12-21 20:10:35.350 -05:00 [Information] ğŸ“– Swagger: http://localhost:8080
2025-12-21 20:10:35.351 -05:00 [Information] â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
2025-12-21 20:10:38.495 -05:00 [Error] âŒ SendGrid error Unauthorized: "{\"errors\":[{\"message\":\"The provided authorization grant is invalid, expired, or revoked\",\"field\":null,\"help\":null}]}"
2025-12-21 20:10:38.498 -05:00 [Warning] Startup email notification failed to send
2025-12-21 20:10:39.639 -05:00 [Information] Using connection string from ConnectionStrings:PostgreSQL
2025-12-21 20:10:39.943 -05:00 [Information] PostgreSQL connection test succeeded
2025-12-21 20:10:41.519 -05:00 [Error] Error during registration
Npgsql.PostgresException (0x80004005): 42883: procedure auth.get_user_rating_profile(p_tenant_id => uuid, p_user_id => uuid) does not exist

POSITION: 6
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KeiroGenesis.API.Ratings.ContentRatingsRepository.GetRatingProfileAsync(Guid tenantId, Guid userId) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\ContentRatings.cs:line 73
   at KeiroGenesis.API.Ratings.ContentRatingsService.GetRatingStatusAsync(Guid tenantId, Guid userId) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\ContentRatings.cs:line 135
   at KeiroGenesis.API.Services.AuthService.GenerateAccessTokenAsync(Guid userId, Guid tenantId, String email, String username, String[] roles) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\AuthController.cs:line 439
   at KeiroGenesis.API.Services.AuthService.RegisterAsync(RegisterRequest request) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\AuthController.cs:line 592
  Exception data:
    Severity: ERROR
    SqlState: 42883
    MessageText: procedure auth.get_user_rating_profile(p_tenant_id => uuid, p_user_id => uuid) does not exist
    Hint: No procedure matches the given name and argument types. You might need to add explicit type casts.
    Position: 6
    File: parse_func.c
    Line: 620
    Routine: ParseFuncOrColumn
2025-12-21 20:12:29.978 -05:00 [Error] Error during registration
Npgsql.PostgresException (0x80004005): 42883: procedure auth.get_user_rating_profile(p_tenant_id => uuid, p_user_id => uuid) does not exist

POSITION: 6
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KeiroGenesis.API.Ratings.ContentRatingsRepository.GetRatingProfileAsync(Guid tenantId, Guid userId) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\ContentRatings.cs:line 73
   at KeiroGenesis.API.Ratings.ContentRatingsService.GetRatingStatusAsync(Guid tenantId, Guid userId) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\ContentRatings.cs:line 135
   at KeiroGenesis.API.Services.AuthService.GenerateAccessTokenAsync(Guid userId, Guid tenantId, String email, String username, String[] roles) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\AuthController.cs:line 439
   at KeiroGenesis.API.Services.AuthService.RegisterAsync(RegisterRequest request) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\AuthController.cs:line 592
  Exception data:
    Severity: ERROR
    SqlState: 42883
    MessageText: procedure auth.get_user_rating_profile(p_tenant_id => uuid, p_user_id => uuid) does not exist
    Hint: No procedure matches the given name and argument types. You might need to add explicit type casts.
    Position: 6
    File: parse_func.c
    Line: 620
    Routine: ParseFuncOrColumn
2025-12-21 20:13:37.388 -05:00 [Error] Error during registration
Npgsql.PostgresException (0x80004005): 42883: procedure auth.get_user_rating_profile(p_tenant_id => uuid, p_user_id => uuid) does not exist

POSITION: 6
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KeiroGenesis.API.Ratings.ContentRatingsRepository.GetRatingProfileAsync(Guid tenantId, Guid userId) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\ContentRatings.cs:line 73
   at KeiroGenesis.API.Ratings.ContentRatingsService.GetRatingStatusAsync(Guid tenantId, Guid userId) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\ContentRatings.cs:line 135
   at KeiroGenesis.API.Services.AuthService.GenerateAccessTokenAsync(Guid userId, Guid tenantId, String email, String username, String[] roles) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\AuthController.cs:line 439
   at KeiroGenesis.API.Services.AuthService.RegisterAsync(RegisterRequest request) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\AuthController.cs:line 592
  Exception data:
    Severity: ERROR
    SqlState: 42883
    MessageText: procedure auth.get_user_rating_profile(p_tenant_id => uuid, p_user_id => uuid) does not exist
    Hint: No procedure matches the given name and argument types. You might need to add explicit type casts.
    Position: 6
    File: parse_func.c
    Line: 620
    Routine: ParseFuncOrColumn
2025-12-21 20:16:27.062 -05:00 [Warning] Overriding address(es) '"http://0.0.0.0:8080"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-12-21 20:16:27.232 -05:00 [Information] â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
2025-12-21 20:16:27.236 -05:00 [Information] ğŸš€ KeiroGenesis API Started Successfully
2025-12-21 20:16:27.236 -05:00 [Information] ğŸ“– Swagger: http://localhost:8080
2025-12-21 20:16:27.236 -05:00 [Information] â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
2025-12-21 20:16:30.358 -05:00 [Error] âŒ SendGrid error Unauthorized: "{\"errors\":[{\"message\":\"The provided authorization grant is invalid, expired, or revoked\",\"field\":null,\"help\":null}]}"
2025-12-21 20:16:30.360 -05:00 [Warning] Startup email notification failed to send
2025-12-21 20:16:33.054 -05:00 [Information] Using connection string from ConnectionStrings:PostgreSQL
2025-12-21 20:16:33.422 -05:00 [Information] PostgreSQL connection test succeeded
2025-12-21 20:16:34.876 -05:00 [Error] Error during registration
Npgsql.PostgresException (0x80004005): 42P01: relation "auth.user_rating_profiles" does not exist
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.<ReadMessage>g__ReadMessageSequential|49_0(NpgsqlConnector connector, Boolean async)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KeiroGenesis.API.Ratings.ContentRatingsRepository.GetRatingProfileAsync(Guid tenantId, Guid userId) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\ContentRatings.cs:line 73
   at KeiroGenesis.API.Ratings.ContentRatingsService.GetRatingStatusAsync(Guid tenantId, Guid userId) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\ContentRatings.cs:line 134
   at KeiroGenesis.API.Services.AuthService.GenerateAccessTokenAsync(Guid userId, Guid tenantId, String email, String username, String[] roles) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\AuthController.cs:line 439
   at KeiroGenesis.API.Services.AuthService.RegisterAsync(RegisterRequest request) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\AuthController.cs:line 592
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "auth.user_rating_profiles" does not exist
    InternalPosition: 375
    InternalQuery: SELECT 
        urp.effective_rating,
        urp.last_evaluated_at,
        CASE 
            WHEN urp.effective_rating = 'G' THEN 'General audience'
            WHEN urp.effective_rating = 'PG' THEN 'Parental guidance (13-17)'
            WHEN urp.effective_rating = 'MA' THEN 'Mature audience (18+)'
            ELSE 'Unknown rating'
        END::TEXT as reason
    FROM auth.user_rating_profiles urp
    WHERE urp.tenant_id = p_tenant_id 
      AND urp.user_id = p_user_id
    Where: PL/pgSQL function auth.get_user_rating_profile(uuid,uuid) line 3 at RETURN QUERY
    File: parse_relation.c
    Line: 1428
    Routine: parserOpenTable
2025-12-21 20:18:07.908 -05:00 [Error] Error during registration
Npgsql.PostgresException (0x80004005): 42804: structure of query does not match function result type

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.<ReadMessage>g__ReadMessageSequential|49_0(NpgsqlConnector connector, Boolean async)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KeiroGenesis.API.Ratings.ContentRatingsRepository.GetRatingProfileAsync(Guid tenantId, Guid userId) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\ContentRatings.cs:line 73
   at KeiroGenesis.API.Ratings.ContentRatingsService.GetRatingStatusAsync(Guid tenantId, Guid userId) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\ContentRatings.cs:line 134
   at KeiroGenesis.API.Services.AuthService.GenerateAccessTokenAsync(Guid userId, Guid tenantId, String email, String username, String[] roles) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\AuthController.cs:line 439
   at KeiroGenesis.API.Services.AuthService.RegisterAsync(RegisterRequest request) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\AuthController.cs:line 592
  Exception data:
    Severity: ERROR
    SqlState: 42804
    MessageText: structure of query does not match function result type
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    Where: SQL statement "SELECT 
        urp.effective_rating,
        urp.last_evaluated_at,
        CASE 
            WHEN urp.effective_rating = 'G' THEN 'General audience'
            WHEN urp.effective_rating = 'PG' THEN 'Parental guidance (13-17)'
            WHEN urp.effective_rating = 'MA' THEN 'Mature audience (18+)'
            ELSE 'Unknown rating'
        END::TEXT as reason
    FROM auth.user_rating_profiles urp
    WHERE urp.tenant_id = p_tenant_id 
      AND urp.user_id = p_user_id"
PL/pgSQL function auth.get_user_rating_profile(uuid,uuid) line 3 at RETURN QUERY
    File: attmap.c
    Line: 118
    Routine: build_attrmap_by_position
2025-12-21 20:19:37.835 -05:00 [Error] Error during registration
System.ArgumentNullException: Value cannot be null. (Parameter 'value')
   at System.ArgumentNullException.Throw(String paramName)
   at System.ArgumentNullException.ThrowIfNull(Object argument, String paramName)
   at System.Security.Claims.Claim..ctor(String type, String value, String valueType, String issuer, String originalIssuer, ClaimsIdentity subject, String propertyKey, String propertyValue)
   at System.Security.Claims.Claim..ctor(String type, String value)
   at KeiroGenesis.API.Services.AuthService.GenerateAccessTokenAsync(Guid userId, Guid tenantId, String email, String username, String[] roles) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\AuthController.cs:line 441
   at KeiroGenesis.API.Services.AuthService.RegisterAsync(RegisterRequest request) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\AuthController.cs:line 592
2025-12-21 20:21:17.190 -05:00 [Warning] Overriding address(es) '"http://0.0.0.0:8080"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-12-21 20:21:17.361 -05:00 [Information] â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
2025-12-21 20:21:17.364 -05:00 [Information] ğŸš€ KeiroGenesis API Started Successfully
2025-12-21 20:21:17.364 -05:00 [Information] ğŸ“– Swagger: http://localhost:8080
2025-12-21 20:21:17.364 -05:00 [Information] â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
2025-12-21 20:21:20.574 -05:00 [Error] âŒ SendGrid error Unauthorized: "{\"errors\":[{\"message\":\"The provided authorization grant is invalid, expired, or revoked\",\"field\":null,\"help\":null}]}"
2025-12-21 20:21:20.579 -05:00 [Warning] Startup email notification failed to send
2025-12-21 20:21:23.499 -05:00 [Information] Using connection string from ConnectionStrings:PostgreSQL
2025-12-21 20:21:23.810 -05:00 [Information] PostgreSQL connection test succeeded
2025-12-21 20:21:24.882 -05:00 [Error] Error during registration
System.ArgumentNullException: Value cannot be null. (Parameter 'value')
   at System.ArgumentNullException.Throw(String paramName)
   at System.ArgumentNullException.ThrowIfNull(Object argument, String paramName)
   at System.Security.Claims.Claim..ctor(String type, String value, String valueType, String issuer, String originalIssuer, ClaimsIdentity subject, String propertyKey, String propertyValue)
   at System.Security.Claims.Claim..ctor(String type, String value)
   at KeiroGenesis.API.Services.AuthService.GenerateAccessTokenAsync(Guid userId, Guid tenantId, String email, String username, String[] roles) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\AuthController.cs:line 441
   at KeiroGenesis.API.Services.AuthService.RegisterAsync(RegisterRequest request) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\AuthController.cs:line 592
2025-12-21 20:21:27.590 -05:00 [Error] Error during registration
System.ArgumentNullException: Value cannot be null. (Parameter 'value')
   at System.ArgumentNullException.Throw(String paramName)
   at System.ArgumentNullException.ThrowIfNull(Object argument, String paramName)
   at System.Security.Claims.Claim..ctor(String type, String value, String valueType, String issuer, String originalIssuer, ClaimsIdentity subject, String propertyKey, String propertyValue)
   at System.Security.Claims.Claim..ctor(String type, String value)
   at KeiroGenesis.API.Services.AuthService.GenerateAccessTokenAsync(Guid userId, Guid tenantId, String email, String username, String[] roles) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\AuthController.cs:line 441
   at KeiroGenesis.API.Services.AuthService.RegisterAsync(RegisterRequest request) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\AuthController.cs:line 592
2025-12-21 20:21:36.849 -05:00 [Error] Error during registration
System.ArgumentNullException: Value cannot be null. (Parameter 'value')
   at System.ArgumentNullException.Throw(String paramName)
   at System.ArgumentNullException.ThrowIfNull(Object argument, String paramName)
   at System.Security.Claims.Claim..ctor(String type, String value, String valueType, String issuer, String originalIssuer, ClaimsIdentity subject, String propertyKey, String propertyValue)
   at System.Security.Claims.Claim..ctor(String type, String value)
   at KeiroGenesis.API.Services.AuthService.GenerateAccessTokenAsync(Guid userId, Guid tenantId, String email, String username, String[] roles) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\AuthController.cs:line 441
   at KeiroGenesis.API.Services.AuthService.RegisterAsync(RegisterRequest request) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\AuthController.cs:line 592
2025-12-21 20:25:11.649 -05:00 [Warning] Overriding address(es) '"http://0.0.0.0:8080"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-12-21 20:25:11.850 -05:00 [Information] â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
2025-12-21 20:25:11.853 -05:00 [Information] ğŸš€ KeiroGenesis API Started Successfully
2025-12-21 20:25:11.853 -05:00 [Information] ğŸ“– Swagger: http://localhost:8080
2025-12-21 20:25:11.853 -05:00 [Information] â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
2025-12-21 20:25:14.910 -05:00 [Error] âŒ SendGrid error Unauthorized: "{\"errors\":[{\"message\":\"The provided authorization grant is invalid, expired, or revoked\",\"field\":null,\"help\":null}]}"
2025-12-21 20:25:14.913 -05:00 [Warning] Startup email notification failed to send
2025-12-21 20:25:56.059 -05:00 [Information] Using connection string from ConnectionStrings:PostgreSQL
2025-12-21 20:25:56.459 -05:00 [Information] PostgreSQL connection test succeeded
2025-12-21 20:25:57.421 -05:00 [Information] Rating profile created for user a83c9e36-4310-41c1-bf8b-491612412019: "G"
2025-12-21 20:25:57.961 -05:00 [Error] Error during registration
System.ArgumentNullException: Value cannot be null. (Parameter 'value')
   at System.ArgumentNullException.Throw(String paramName)
   at System.ArgumentNullException.ThrowIfNull(Object argument, String paramName)
   at System.Security.Claims.Claim..ctor(String type, String value, String valueType, String issuer, String originalIssuer, ClaimsIdentity subject, String propertyKey, String propertyValue)
   at System.Security.Claims.Claim..ctor(String type, String value)
   at KeiroGenesis.API.Services.AuthService.GenerateAccessTokenAsync(Guid userId, Guid tenantId, String email, String username, String[] roles) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\AuthController.cs:line 441
   at KeiroGenesis.API.Services.AuthService.RegisterAsync(RegisterRequest request) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\AuthController.cs:line 599
2025-12-21 20:26:02.219 -05:00 [Information] Rating profile created for user b4958372-cb56-4d8b-a589-79c482e1bdc7: "G"
2025-12-21 20:26:02.609 -05:00 [Error] Error during registration
System.ArgumentNullException: Value cannot be null. (Parameter 'value')
   at System.ArgumentNullException.Throw(String paramName)
   at System.ArgumentNullException.ThrowIfNull(Object argument, String paramName)
   at System.Security.Claims.Claim..ctor(String type, String value, String valueType, String issuer, String originalIssuer, ClaimsIdentity subject, String propertyKey, String propertyValue)
   at System.Security.Claims.Claim..ctor(String type, String value)
   at KeiroGenesis.API.Services.AuthService.GenerateAccessTokenAsync(Guid userId, Guid tenantId, String email, String username, String[] roles) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\AuthController.cs:line 441
   at KeiroGenesis.API.Services.AuthService.RegisterAsync(RegisterRequest request) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\AuthController.cs:line 599
2025-12-21 21:14:12.859 -05:00 [Information] Rating profile created for user a9bc6eba-42c5-4a1f-971f-56f8eb885b73: "G"
2025-12-21 21:14:13.182 -05:00 [Error] Error during registration
System.ArgumentNullException: Value cannot be null. (Parameter 'value')
   at System.ArgumentNullException.Throw(String paramName)
   at System.ArgumentNullException.ThrowIfNull(Object argument, String paramName)
   at System.Security.Claims.Claim..ctor(String type, String value, String valueType, String issuer, String originalIssuer, ClaimsIdentity subject, String propertyKey, String propertyValue)
   at System.Security.Claims.Claim..ctor(String type, String value)
   at KeiroGenesis.API.Services.AuthService.GenerateAccessTokenAsync(Guid userId, Guid tenantId, String email, String username, String[] roles) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\AuthController.cs:line 441
   at KeiroGenesis.API.Services.AuthService.RegisterAsync(RegisterRequest request) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\AuthController.cs:line 599
2025-12-21 21:14:47.219 -05:00 [Information] Rating profile created for user 4eb78939-2458-4838-a867-60903179e8e9: "G"
2025-12-21 21:14:47.329 -05:00 [Error] Error during registration
System.ArgumentNullException: Value cannot be null. (Parameter 'value')
   at System.ArgumentNullException.Throw(String paramName)
   at System.ArgumentNullException.ThrowIfNull(Object argument, String paramName)
   at System.Security.Claims.Claim..ctor(String type, String value, String valueType, String issuer, String originalIssuer, ClaimsIdentity subject, String propertyKey, String propertyValue)
   at System.Security.Claims.Claim..ctor(String type, String value)
   at KeiroGenesis.API.Services.AuthService.GenerateAccessTokenAsync(Guid userId, Guid tenantId, String email, String username, String[] roles) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\AuthController.cs:line 441
   at KeiroGenesis.API.Services.AuthService.RegisterAsync(RegisterRequest request) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\AuthController.cs:line 599
2025-12-21 21:15:25.698 -05:00 [Information] Rating profile created for user 239357d5-7b29-4a6b-a0e6-15f77f6c935e: "G"
2025-12-21 21:15:25.787 -05:00 [Error] Error during registration
System.ArgumentNullException: Value cannot be null. (Parameter 'value')
   at System.ArgumentNullException.Throw(String paramName)
   at System.Security.Claims.Claim..ctor(String type, String value, String valueType, String issuer, String originalIssuer, ClaimsIdentity subject, String propertyKey, String propertyValue)
   at System.Security.Claims.Claim..ctor(String type, String value)
   at KeiroGenesis.API.Services.AuthService.GenerateAccessTokenAsync(Guid userId, Guid tenantId, String email, String username, String[] roles) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\AuthController.cs:line 441
   at KeiroGenesis.API.Services.AuthService.RegisterAsync(RegisterRequest request) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\AuthController.cs:line 599
2025-12-21 21:21:36.667 -05:00 [Information] Rating profile created for user 213b9e53-7ff9-430d-b66e-283d1357b182: "G"
2025-12-21 21:21:36.779 -05:00 [Error] Error during registration
System.ArgumentNullException: Value cannot be null. (Parameter 'value')
   at System.ArgumentNullException.Throw(String paramName)
   at System.ArgumentNullException.ThrowIfNull(Object argument, String paramName)
   at System.Security.Claims.Claim..ctor(String type, String value, String valueType, String issuer, String originalIssuer, ClaimsIdentity subject, String propertyKey, String propertyValue)
   at System.Security.Claims.Claim..ctor(String type, String value)
   at KeiroGenesis.API.Services.AuthService.GenerateAccessTokenAsync(Guid userId, Guid tenantId, String email, String username, String[] roles) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\AuthController.cs:line 441
   at KeiroGenesis.API.Services.AuthService.RegisterAsync(RegisterRequest request) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\AuthController.cs:line 599
2025-12-21 21:22:15.899 -05:00 [Error] Database error during user registration
Npgsql.PostgresException (0x80004005): 42883: function auth.fn_register_user(text, text, text, text, text, text, timestamp without time zone, text, text) does not exist

POSITION: 502
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KeiroGenesis.API.Repositories.AuthRepository.RegisterUserAsync(RegisterRequest dto) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\AuthController.cs:line 56
  Exception data:
    Severity: ERROR
    SqlState: 42883
    MessageText: function auth.fn_register_user(text, text, text, text, text, text, timestamp without time zone, text, text) does not exist
    Hint: No function matches the given name and argument types. You might need to add explicit type casts.
    Position: 502
    File: parse_func.c
    Line: 629
    Routine: ParseFuncOrColumn
2025-12-21 21:26:23.093 -05:00 [Warning] Overriding address(es) '"http://0.0.0.0:8080"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-12-21 21:26:23.234 -05:00 [Information] â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
2025-12-21 21:26:23.235 -05:00 [Information] ğŸš€ KeiroGenesis API Started Successfully
2025-12-21 21:26:23.235 -05:00 [Information] ğŸ“– Swagger: http://localhost:8080
2025-12-21 21:26:23.236 -05:00 [Information] â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
2025-12-21 21:26:26.378 -05:00 [Error] âŒ SendGrid error Unauthorized: "{\"errors\":[{\"message\":\"The provided authorization grant is invalid, expired, or revoked\",\"field\":null,\"help\":null}]}"
2025-12-21 21:26:26.385 -05:00 [Warning] Startup email notification failed to send
2025-12-21 21:26:28.034 -05:00 [Information] Using connection string from ConnectionStrings:PostgreSQL
2025-12-21 21:26:28.324 -05:00 [Information] PostgreSQL connection test succeeded
2025-12-21 21:26:28.976 -05:00 [Error] Database error during user registration
Npgsql.PostgresException (0x80004005): 42883: function auth.fn_register_user(text, text, text, text, text, text, timestamp without time zone, text, text) does not exist

POSITION: 502
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KeiroGenesis.API.Repositories.AuthRepository.RegisterUserAsync(RegisterRequest dto) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\AuthController.cs:line 56
  Exception data:
    Severity: ERROR
    SqlState: 42883
    MessageText: function auth.fn_register_user(text, text, text, text, text, text, timestamp without time zone, text, text) does not exist
    Hint: No function matches the given name and argument types. You might need to add explicit type casts.
    Position: 502
    File: parse_func.c
    Line: 629
    Routine: ParseFuncOrColumn
2025-12-21 21:26:32.140 -05:00 [Error] Database error during user registration
Npgsql.PostgresException (0x80004005): 42883: function auth.fn_register_user(text, text, text, text, text, text, timestamp without time zone, text, text) does not exist

POSITION: 502
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KeiroGenesis.API.Repositories.AuthRepository.RegisterUserAsync(RegisterRequest dto) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\AuthController.cs:line 56
  Exception data:
    Severity: ERROR
    SqlState: 42883
    MessageText: function auth.fn_register_user(text, text, text, text, text, text, timestamp without time zone, text, text) does not exist
    Hint: No function matches the given name and argument types. You might need to add explicit type casts.
    Position: 502
    File: parse_func.c
    Line: 629
    Routine: ParseFuncOrColumn
2025-12-21 21:26:40.986 -05:00 [Error] Database error during user registration
Npgsql.PostgresException (0x80004005): 42883: function auth.fn_register_user(text, text, text, text, text, text, timestamp without time zone, text, text) does not exist

POSITION: 502
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KeiroGenesis.API.Repositories.AuthRepository.RegisterUserAsync(RegisterRequest dto) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\AuthController.cs:line 56
  Exception data:
    Severity: ERROR
    SqlState: 42883
    MessageText: function auth.fn_register_user(text, text, text, text, text, text, timestamp without time zone, text, text) does not exist
    Hint: No function matches the given name and argument types. You might need to add explicit type casts.
    Position: 502
    File: parse_func.c
    Line: 629
    Routine: ParseFuncOrColumn
2025-12-21 21:27:48.523 -05:00 [Warning] Overriding address(es) '"http://0.0.0.0:8080"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-12-21 21:27:48.754 -05:00 [Information] â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
2025-12-21 21:27:48.766 -05:00 [Information] ğŸš€ KeiroGenesis API Started Successfully
2025-12-21 21:27:48.766 -05:00 [Information] ğŸ“– Swagger: http://localhost:8080
2025-12-21 21:27:48.767 -05:00 [Information] â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
2025-12-21 21:27:51.868 -05:00 [Error] âŒ SendGrid error Unauthorized: "{\"errors\":[{\"message\":\"The provided authorization grant is invalid, expired, or revoked\",\"field\":null,\"help\":null}]}"
2025-12-21 21:27:51.879 -05:00 [Warning] Startup email notification failed to send
2025-12-21 21:27:54.342 -05:00 [Information] Using connection string from ConnectionStrings:PostgreSQL
2025-12-21 21:27:54.710 -05:00 [Information] PostgreSQL connection test succeeded
2025-12-21 21:27:57.928 -05:00 [Error] Database error during user registration
Npgsql.PostgresException (0x80004005): 42883: function auth.fn_register_user(text, text, text, text, text, text, timestamp without time zone, text, text) does not exist

POSITION: 502
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KeiroGenesis.API.Repositories.AuthRepository.RegisterUserAsync(RegisterRequest dto) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\AuthController.cs:line 56
  Exception data:
    Severity: ERROR
    SqlState: 42883
    MessageText: function auth.fn_register_user(text, text, text, text, text, text, timestamp without time zone, text, text) does not exist
    Hint: No function matches the given name and argument types. You might need to add explicit type casts.
    Position: 502
    File: parse_func.c
    Line: 629
    Routine: ParseFuncOrColumn
2025-12-21 21:32:13.240 -05:00 [Warning] Overriding address(es) '"http://0.0.0.0:8080"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-12-21 21:32:13.433 -05:00 [Information] â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
2025-12-21 21:32:13.436 -05:00 [Information] ğŸš€ KeiroGenesis API Started Successfully
2025-12-21 21:32:13.437 -05:00 [Information] ğŸ“– Swagger: http://localhost:8080
2025-12-21 21:32:13.438 -05:00 [Information] â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
2025-12-21 21:32:16.542 -05:00 [Error] âŒ SendGrid error Unauthorized: "{\"errors\":[{\"message\":\"The provided authorization grant is invalid, expired, or revoked\",\"field\":null,\"help\":null}]}"
2025-12-21 21:32:16.547 -05:00 [Warning] Startup email notification failed to send
2025-12-21 21:32:18.054 -05:00 [Information] Using connection string from ConnectionStrings:PostgreSQL
2025-12-21 21:32:18.385 -05:00 [Information] PostgreSQL connection test succeeded
2025-12-21 21:32:21.594 -05:00 [Error] Error during registration
Npgsql.PostgresException (0x80004005): 42883: function auth.create_user_rating_profile(uuid, uuid, timestamp without time zone) does not exist

POSITION: 8
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteScalar(Boolean async, CancellationToken cancellationToken)
   at Dapper.SqlMapper.ExecuteScalarImplAsync[T](IDbConnection cnn, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 1241
   at KeiroGenesis.API.Ratings.ContentRatingsRepository.InitializeRatingProfileAsync(Guid tenantId, Guid userId, Nullable`1 dateOfBirth) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\ContentRatings.cs:line 56
   at KeiroGenesis.API.Ratings.ContentRatingsService.InitializeRatingProfileAsync(Guid tenantId, Guid userId, Nullable`1 dateOfBirth) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\ContentRatings.cs:line 120
   at KeiroGenesis.API.Services.AuthService.RegisterAsync(RegisterRequest request) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\AuthController.cs:line 592
  Exception data:
    Severity: ERROR
    SqlState: 42883
    MessageText: function auth.create_user_rating_profile(uuid, uuid, timestamp without time zone) does not exist
    Hint: No function matches the given name and argument types. You might need to add explicit type casts.
    Position: 8
    File: parse_func.c
    Line: 629
    Routine: ParseFuncOrColumn
2025-12-21 21:38:11.749 -05:00 [Error] Error during registration
Npgsql.PostgresException (0x80004005): 42883: function auth.create_user_rating_profile(uuid, uuid, timestamp without time zone) does not exist

POSITION: 8
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteScalar(Boolean async, CancellationToken cancellationToken)
   at Dapper.SqlMapper.ExecuteScalarImplAsync[T](IDbConnection cnn, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 1241
   at KeiroGenesis.API.Ratings.ContentRatingsRepository.InitializeRatingProfileAsync(Guid tenantId, Guid userId, Nullable`1 dateOfBirth) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\ContentRatings.cs:line 56
   at KeiroGenesis.API.Ratings.ContentRatingsService.InitializeRatingProfileAsync(Guid tenantId, Guid userId, Nullable`1 dateOfBirth) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\ContentRatings.cs:line 120
   at KeiroGenesis.API.Services.AuthService.RegisterAsync(RegisterRequest request) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\AuthController.cs:line 592
  Exception data:
    Severity: ERROR
    SqlState: 42883
    MessageText: function auth.create_user_rating_profile(uuid, uuid, timestamp without time zone) does not exist
    Hint: No function matches the given name and argument types. You might need to add explicit type casts.
    Position: 8
    File: parse_func.c
    Line: 629
    Routine: ParseFuncOrColumn
2025-12-21 21:43:05.388 -05:00 [Error] Error during registration
Npgsql.PostgresException (0x80004005): 42883: function auth.create_user_rating_profile(uuid, uuid, timestamp without time zone) does not exist

POSITION: 8
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteScalar(Boolean async, CancellationToken cancellationToken)
   at Dapper.SqlMapper.ExecuteScalarImplAsync[T](IDbConnection cnn, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 1241
   at KeiroGenesis.API.Ratings.ContentRatingsRepository.InitializeRatingProfileAsync(Guid tenantId, Guid userId, Nullable`1 dateOfBirth) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\ContentRatings.cs:line 56
   at KeiroGenesis.API.Ratings.ContentRatingsService.InitializeRatingProfileAsync(Guid tenantId, Guid userId, Nullable`1 dateOfBirth) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\ContentRatings.cs:line 120
   at KeiroGenesis.API.Services.AuthService.RegisterAsync(RegisterRequest request) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\AuthController.cs:line 592
  Exception data:
    Severity: ERROR
    SqlState: 42883
    MessageText: function auth.create_user_rating_profile(uuid, uuid, timestamp without time zone) does not exist
    Hint: No function matches the given name and argument types. You might need to add explicit type casts.
    Position: 8
    File: parse_func.c
    Line: 629
    Routine: ParseFuncOrColumn
2025-12-21 21:45:09.858 -05:00 [Error] Error during registration
Npgsql.PostgresException (0x80004005): 42883: function auth.create_user_rating_profile(uuid, uuid, timestamp without time zone) does not exist

POSITION: 8
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteScalar(Boolean async, CancellationToken cancellationToken)
   at Dapper.SqlMapper.ExecuteScalarImplAsync[T](IDbConnection cnn, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 1241
   at KeiroGenesis.API.Ratings.ContentRatingsRepository.InitializeRatingProfileAsync(Guid tenantId, Guid userId, Nullable`1 dateOfBirth) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\ContentRatings.cs:line 56
   at KeiroGenesis.API.Ratings.ContentRatingsService.InitializeRatingProfileAsync(Guid tenantId, Guid userId, Nullable`1 dateOfBirth) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\ContentRatings.cs:line 120
   at KeiroGenesis.API.Services.AuthService.RegisterAsync(RegisterRequest request) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\AuthController.cs:line 592
  Exception data:
    Severity: ERROR
    SqlState: 42883
    MessageText: function auth.create_user_rating_profile(uuid, uuid, timestamp without time zone) does not exist
    Hint: No function matches the given name and argument types. You might need to add explicit type casts.
    Position: 8
    File: parse_func.c
    Line: 629
    Routine: ParseFuncOrColumn
2025-12-21 21:48:44.363 -05:00 [Error] Error during registration
Npgsql.PostgresException (0x80004005): 42883: function auth.create_user_rating_profile(uuid, uuid, timestamp without time zone) does not exist

POSITION: 8
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteScalar(Boolean async, CancellationToken cancellationToken)
   at Dapper.SqlMapper.ExecuteScalarImplAsync[T](IDbConnection cnn, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 1241
   at KeiroGenesis.API.Ratings.ContentRatingsRepository.InitializeRatingProfileAsync(Guid tenantId, Guid userId, Nullable`1 dateOfBirth) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\ContentRatings.cs:line 56
   at KeiroGenesis.API.Ratings.ContentRatingsService.InitializeRatingProfileAsync(Guid tenantId, Guid userId, Nullable`1 dateOfBirth) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\ContentRatings.cs:line 120
   at KeiroGenesis.API.Services.AuthService.RegisterAsync(RegisterRequest request) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\AuthController.cs:line 592
  Exception data:
    Severity: ERROR
    SqlState: 42883
    MessageText: function auth.create_user_rating_profile(uuid, uuid, timestamp without time zone) does not exist
    Hint: No function matches the given name and argument types. You might need to add explicit type casts.
    Position: 8
    File: parse_func.c
    Line: 629
    Routine: ParseFuncOrColumn
2025-12-21 21:51:12.336 -05:00 [Error] Error during registration
Npgsql.PostgresException (0x80004005): 42883: function auth.create_user_rating_profile(uuid, uuid, timestamp without time zone) does not exist

POSITION: 8
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteScalar(Boolean async, CancellationToken cancellationToken)
   at Dapper.SqlMapper.ExecuteScalarImplAsync[T](IDbConnection cnn, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 1241
   at KeiroGenesis.API.Ratings.ContentRatingsRepository.InitializeRatingProfileAsync(Guid tenantId, Guid userId, Nullable`1 dateOfBirth) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\ContentRatings.cs:line 56
   at KeiroGenesis.API.Ratings.ContentRatingsService.InitializeRatingProfileAsync(Guid tenantId, Guid userId, Nullable`1 dateOfBirth) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\ContentRatings.cs:line 120
   at KeiroGenesis.API.Services.AuthService.RegisterAsync(RegisterRequest request) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\AuthController.cs:line 592
  Exception data:
    Severity: ERROR
    SqlState: 42883
    MessageText: function auth.create_user_rating_profile(uuid, uuid, timestamp without time zone) does not exist
    Hint: No function matches the given name and argument types. You might need to add explicit type casts.
    Position: 8
    File: parse_func.c
    Line: 629
    Routine: ParseFuncOrColumn
2025-12-21 21:54:48.070 -05:00 [Warning] Overriding address(es) '"http://0.0.0.0:8080"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-12-21 21:54:48.171 -05:00 [Information] â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
2025-12-21 21:54:48.172 -05:00 [Information] ğŸš€ KeiroGenesis API Started Successfully
2025-12-21 21:54:48.172 -05:00 [Information] ğŸ“– Swagger: http://localhost:8080
2025-12-21 21:54:48.172 -05:00 [Information] â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
2025-12-21 21:54:51.491 -05:00 [Error] âŒ SendGrid error Unauthorized: "{\"errors\":[{\"message\":\"The provided authorization grant is invalid, expired, or revoked\",\"field\":null,\"help\":null}]}"
2025-12-21 21:54:51.493 -05:00 [Warning] Startup email notification failed to send
2025-12-21 21:54:52.561 -05:00 [Information] Using connection string from ConnectionStrings:PostgreSQL
2025-12-21 21:54:52.914 -05:00 [Information] PostgreSQL connection test succeeded
2025-12-21 21:54:58.136 -05:00 [Error] Error during registration
Npgsql.PostgresException (0x80004005): 42883: function auth.create_user_rating_profile(uuid, uuid, timestamp without time zone) does not exist

POSITION: 8
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteScalar(Boolean async, CancellationToken cancellationToken)
   at Dapper.SqlMapper.ExecuteScalarImplAsync[T](IDbConnection cnn, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 1241
   at KeiroGenesis.API.Ratings.ContentRatingsRepository.InitializeRatingProfileAsync(Guid tenantId, Guid userId, Nullable`1 dateOfBirth) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\ContentRatings.cs:line 56
   at KeiroGenesis.API.Ratings.ContentRatingsService.InitializeRatingProfileAsync(Guid tenantId, Guid userId, Nullable`1 dateOfBirth) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\ContentRatings.cs:line 120
   at KeiroGenesis.API.Services.AuthService.RegisterAsync(RegisterRequest request) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\AuthController.cs:line 592
  Exception data:
    Severity: ERROR
    SqlState: 42883
    MessageText: function auth.create_user_rating_profile(uuid, uuid, timestamp without time zone) does not exist
    Hint: No function matches the given name and argument types. You might need to add explicit type casts.
    Position: 8
    File: parse_func.c
    Line: 629
    Routine: ParseFuncOrColumn
2025-12-21 21:57:19.776 -05:00 [Error] Error during registration
Npgsql.PostgresException (0x80004005): 42883: function auth.create_user_rating_profile(uuid, uuid, timestamp without time zone) does not exist

POSITION: 8
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteScalar(Boolean async, CancellationToken cancellationToken)
   at Dapper.SqlMapper.ExecuteScalarImplAsync[T](IDbConnection cnn, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 1241
   at KeiroGenesis.API.Ratings.ContentRatingsRepository.InitializeRatingProfileAsync(Guid tenantId, Guid userId, Nullable`1 dateOfBirth) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\ContentRatings.cs:line 56
   at KeiroGenesis.API.Ratings.ContentRatingsService.InitializeRatingProfileAsync(Guid tenantId, Guid userId, Nullable`1 dateOfBirth) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\ContentRatings.cs:line 120
   at KeiroGenesis.API.Services.AuthService.RegisterAsync(RegisterRequest request) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\AuthController.cs:line 592
  Exception data:
    Severity: ERROR
    SqlState: 42883
    MessageText: function auth.create_user_rating_profile(uuid, uuid, timestamp without time zone) does not exist
    Hint: No function matches the given name and argument types. You might need to add explicit type casts.
    Position: 8
    File: parse_func.c
    Line: 629
    Routine: ParseFuncOrColumn
2025-12-21 22:01:12.742 -05:00 [Warning] Overriding address(es) '"http://0.0.0.0:8080"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-12-21 22:01:12.917 -05:00 [Information] â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
2025-12-21 22:01:12.919 -05:00 [Information] ğŸš€ KeiroGenesis API Started Successfully
2025-12-21 22:01:12.920 -05:00 [Information] ğŸ“– Swagger: http://localhost:8080
2025-12-21 22:01:12.920 -05:00 [Information] â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
2025-12-21 22:01:16.203 -05:00 [Error] âŒ SendGrid error Unauthorized: "{\"errors\":[{\"message\":\"The provided authorization grant is invalid, expired, or revoked\",\"field\":null,\"help\":null}]}"
2025-12-21 22:01:16.205 -05:00 [Warning] Startup email notification failed to send
2025-12-21 22:01:16.873 -05:00 [Information] Using connection string from ConnectionStrings:PostgreSQL
2025-12-21 22:01:17.257 -05:00 [Information] PostgreSQL connection test succeeded
2025-12-21 22:01:23.535 -05:00 [Information] Rating profile created for user 3d8c8d7b-73bc-4202-a85e-7674af746020: "MA"
2025-12-21 22:01:23.867 -05:00 [Error] Error during registration
System.ArgumentNullException: Value cannot be null. (Parameter 'value')
   at System.ArgumentNullException.Throw(String paramName)
   at System.ArgumentNullException.ThrowIfNull(Object argument, String paramName)
   at System.Security.Claims.Claim..ctor(String type, String value, String valueType, String issuer, String originalIssuer, ClaimsIdentity subject, String propertyKey, String propertyValue)
   at System.Security.Claims.Claim..ctor(String type, String value)
   at KeiroGenesis.API.Services.AuthService.GenerateAccessTokenAsync(Guid userId, Guid tenantId, String email, String username, String[] roles) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\AuthController.cs:line 441
   at KeiroGenesis.API.Services.AuthService.RegisterAsync(RegisterRequest request) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\AuthController.cs:line 599
2025-12-21 22:02:47.749 -05:00 [Information] Rating profile created for user 8e0d1f70-c402-4ba7-8620-f8ee2322ce92: "MA"
2025-12-21 22:06:09.392 -05:00 [Error] Error during registration
System.ArgumentNullException: Value cannot be null. (Parameter 'value')
   at System.ArgumentNullException.Throw(String paramName)
   at System.ArgumentNullException.ThrowIfNull(Object argument, String paramName)
   at System.Security.Claims.Claim..ctor(String type, String value, String valueType, String issuer, String originalIssuer, ClaimsIdentity subject, String propertyKey, String propertyValue)
   at System.Security.Claims.Claim..ctor(String type, String value)
   at KeiroGenesis.API.Services.AuthService.GenerateAccessTokenAsync(Guid userId, Guid tenantId, String email, String username, String[] roles) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\AuthController.cs:line 441
   at KeiroGenesis.API.Services.AuthService.RegisterAsync(RegisterRequest request) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\AuthController.cs:line 599
2025-12-21 22:06:28.777 -05:00 [Information] Rating profile created for user 26eaeb7c-26ac-494c-a97f-68cdd213ab6e: "MA"
2025-12-21 22:06:28.867 -05:00 [Error] Error during registration
System.ArgumentNullException: Value cannot be null. (Parameter 'value')
   at System.ArgumentNullException.Throw(String paramName)
   at System.ArgumentNullException.ThrowIfNull(Object argument, String paramName)
   at System.Security.Claims.Claim..ctor(String type, String value, String valueType, String issuer, String originalIssuer, ClaimsIdentity subject, String propertyKey, String propertyValue)
   at System.Security.Claims.Claim..ctor(String type, String value)
   at KeiroGenesis.API.Services.AuthService.GenerateAccessTokenAsync(Guid userId, Guid tenantId, String email, String username, String[] roles) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\AuthController.cs:line 441
   at KeiroGenesis.API.Services.AuthService.RegisterAsync(RegisterRequest request) in C:\Users\ai365\OneDrive\Documents\GitHub\kg_mvp\Controllers\V1\AuthController.cs:line 599
2025-12-21 22:07:54.682 -05:00 [Information] Rating profile created for user fb8ac175-8c01-41ed-9c2d-a809c435dabe: "MA"
